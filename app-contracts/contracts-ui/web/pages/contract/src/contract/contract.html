
<!DOCTYPE html>

<div class="demo">
	<h2>项目合同管理</h2>
	<x-dataform
		mode="simple"

		width="800px"
	    field-columns="2"
	    default-field-span="1"
	    :field-spans="{
			code:2,
			title:2,
			address:2,
			remark:2,
			attachments:2,
		}"
	    label-width="120px"
		dock-layout="bottom"
	
	    writeonly

	    data-interface="com.linkgie.lowcode.demo.contracts.web.model.ContractInfoVI,
	    				com.linkgie.lowcode.demo.contracts.web.model.ContractDepartmentInfoVI,
	    				com.linkgie.lowcode.demo.contracts.web.model.ContractExtInfoVI"
		
		:metadata="metadata"

		data-binding="ds-contracts"
		:reference-databindings="{
			salesEmployees:'ds-employees', 
			salesDepartment:'ds-departments', 
			supportsDepartments:'ds-departments'
		}"
	>
	</x-dataform>
</div>

<x-datasource
    name="ds-contracts"
    model="com.linkgie.lowcode.demo.contracts.web.model.ContractVO"
    default-current-row-index="0"
>
    <x-http-binding name="query" service="contract-controller" method="GET" path="/contract/all" refresh></x-http-binding>
    <x-http-binding name="update" service="contract-controller" method="PUT" path="/contract" refresh></x-http-binding>
</x-datasource>

<x-datasource
    name="ds-departments"
    model="com.linkgie.lowcode.demo.contracts.web.model.BusinessDepartmentVO"
    default-current-row-index="0"
>
	<x-http-binding name="query" service="department-controller" method="GET" path="/department/all" refresh></x-http-binding>
</x-datasource>

<x-datasource
    name="ds-employees"
    model="com.linkgie.lowcode.demo.contracts.web.model.BusinessEmployeeVO"
    default-current-row-index="0"
>
    <x-http-binding name="query" service="employee-controller" method="GET" path="/employee/all" refresh></x-http-binding>
</x-datasource>

